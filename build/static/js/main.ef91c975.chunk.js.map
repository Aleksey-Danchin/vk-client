{"version":3,"sources":["services/VK.jsx","pages/LoginPage.jsx","pages/MainPage.jsx","Router.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["VKContext","createContext","useVK","useContext","VKProvider","props","children","useState","authenticated","setAuthenticated","user","setUser","login","useCallback","a","VK","Auth","response","status","session","logout","useEffect","getLoginStatus","call","method","params","Promise","resolve","Api","v","Provider","value","Container","styled","MuiContainer","marginTop","Center","Box","display","flexDiraction","justifyContent","margin","LoginPage","porps","CardContent","Typography","variant","Button","onClick","MainPage","CardHeader","title","Router","component","App","AppBar","position","Toolbar","MainLable","LoginLogoutButton","history","useHistory","toLoginPage","push","color","sx","flexGrow","first_name","last_name","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ef91c975.chunk.js","sourcesContent":["/* global VK */\n\nimport {\n\tcreateContext,\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n\tuseState,\n} from \"react\";\n\nconst VKContext = createContext();\n\nexport function useVK() {\n\treturn useContext(VKContext);\n}\n\nexport function VKProvider(props) {\n\tconst { children } = props;\n\n\tconst [authenticated, setAuthenticated] = useState(false);\n\tconst [user, setUser] = useState(null);\n\n\tconst login = useCallback(async () => {\n\t\tif (!authenticated) {\n\t\t\tVK.Auth.login((response) => {\n\t\t\t\tif (response.status === \"connected\") {\n\t\t\t\t\tsetUser(response.session.user);\n\t\t\t\t\tsetAuthenticated(true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, [authenticated]);\n\n\tconst logout = useCallback(async () => {\n\t\tif (authenticated) {\n\t\t\tVK.Auth.logout((response) => {\n\t\t\t\tsetAuthenticated(false);\n\t\t\t\tsetUser(null);\n\t\t\t});\n\t\t}\n\t}, [authenticated]);\n\n\tuseEffect(() => {\n\t\tVK.Auth.getLoginStatus((response) => {\n\t\t\tif (response.status === \"connected\") {\n\t\t\t\tsetUser(response.session.user);\n\t\t\t\tsetAuthenticated(true);\n\t\t\t}\n\t\t}, true);\n\t}, []);\n\n\tconst call = useCallback((method, params = {}) => {\n\t\treturn new Promise((resolve) => {\n\t\t\tVK.Api.call(method, { v: \"5.54\", ...params }, resolve);\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<VKContext.Provider\n\t\t\tvalue={{ authenticated, login, logout, user, call }}\n\t\t>\n\t\t\t{children}\n\t\t</VKContext.Provider>\n\t);\n}\n","import {\n\tBox,\n\tButton,\n\tCardContent,\n\tContainer as MuiContainer,\n\tTypography,\n} from \"@material-ui/core\";\n\nimport { styled } from \"@material-ui/styles\";\nimport { useVK } from \"@/services/VK\";\n\nconst Container = styled(MuiContainer)({ marginTop: \"10px\" });\nconst Center = ({ children }) => (\n\t<Box display=\"flex\" flexDiraction=\"row\" justifyContent=\"center\" margin={2}>\n\t\t{children}\n\t</Box>\n);\n\nexport default function LoginPage(porps) {\n\tconst { login } = useVK();\n\treturn (\n\t\t<Container>\n\t\t\t<CardContent>\n\t\t\t\t<Center>\n\t\t\t\t\t<Typography variant=\"p\">\n\t\t\t\t\t\tFor authenticating through vk application just click to\n\t\t\t\t\t\tbutton below. =)\n\t\t\t\t\t</Typography>\n\t\t\t\t</Center>\n\t\t\t\t<Center>\n\t\t\t\t\t<Button variant=\"contained\" onClick={login}>\n\t\t\t\t\t\tVK login\n\t\t\t\t\t</Button>\n\t\t\t\t</Center>\n\t\t\t</CardContent>\n\t\t</Container>\n\t);\n}\n","import { Container, CardHeader } from \"@material-ui/core\";\n\nexport default function MainPage(props) {\n\treturn (\n\t\t<Container>\n\t\t\t<CardHeader title=\"Поиск групп\" />\n\t\t</Container>\n\t);\n}\n","import { Switch, Route } from \"react-router-dom\";\nimport { useVK } from \"./services/VK\";\nimport { MainPage, LoginPage } from \"./pages\";\n\nexport default function Router(props) {\n\tconst { authenticated } = useVK();\n\n\tif (!authenticated) {\n\t\treturn <LoginPage />;\n\t}\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route component={MainPage} />\n\t\t</Switch>\n\t);\n}\n","import { AppBar, Toolbar, Typography, Button } from \"@material-ui/core\";\n\nimport { useCallback } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Router from \"./Router\";\nimport { useVK } from \"./services/VK\";\n\nfunction App() {\n\treturn (\n\t\t<>\n\t\t\t<AppBar position=\"static\">\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<MainLable />\n\t\t\t\t\t<LoginLogoutButton />\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t\t<Router />\n\t\t</>\n\t);\n}\n\nexport default App;\n\nfunction LoginLogoutButton(props) {\n\tconst { authenticated, logout } = useVK();\n\tconst history = useHistory();\n\n\tconst toLoginPage = useCallback(() => history.push(\"/\"), [history]);\n\n\tif (authenticated) {\n\t\treturn (\n\t\t\t<Button color=\"inherit\" onClick={logout}>\n\t\t\t\tLogout\n\t\t\t</Button>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Button color=\"inherit\" onClick={toLoginPage}>\n\t\t\tLogin\n\t\t</Button>\n\t);\n}\n\nfunction MainLable(props) {\n\tconst { authenticated, user } = useVK();\n\n\tif (authenticated) {\n\t\treturn (\n\t\t\t<Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n\t\t\t\t{user.first_name} {user.last_name}\n\t\t\t</Typography>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n\t\t\tVK client\n\t\t</Typography>\n\t);\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { BrowserRouter } from \"react-router-dom\";\nimport { VKProvider } from \"./services/VK\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<VKProvider>\n\t\t\t<BrowserRouter>\n\t\t\t\t<App />\n\t\t\t</BrowserRouter>\n\t\t</VKProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}